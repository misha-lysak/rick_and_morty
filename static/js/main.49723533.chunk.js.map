{"version":3,"sources":["components/Card/Card.jsx","components/EditCard/EditCard.jsx","components/CardDescription/CardDescription.jsx","components/CardList/CardList.jsx","App.jsx","api.js","index.jsx"],"names":["Card","character","handleSelect","console","log","onClick","id","className","src","image","alt","name","defaultProps","EditCard","handleOpenEdit","handleSubmit","useState","editingCharacter","setEditingCharacter","onChange","useCallback","event","target","value","prevState","onSubmit","htmlFor","type","status","species","gender","location","CardDescription","selectedCard","onDelete","isOpenEdit","setIsOpenEdit","editedCharacter","setEditedCharacter","newCharacter","close","preventDefault","to","CardList","characters","selectedCardId","setSelectedCardId","setSelectedCard","find","useEffect","path","exact","map","Date","App","setCharacters","fetch","then","response","ok","Error","json","results","newCharacters","filter","state","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49723533.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Card.scss';\n\nexport const Card = ({ character, handleSelect }) => {\n  console.log('hello');\n  return (\n    <div\n      onClick={() => handleSelect(character.id)}\n      className=\"card\"\n    >\n      <img className=\"card__img\" src={character.image} alt={character.name} />\n      <p className=\"card__name\">{character.name}</p>\n    </div>\n  );\n};\n\nCard.propTypes = {\n  character: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    image: PropTypes.string,\n    id: PropTypes.number,\n  }),\n  handleSelect: PropTypes.func.isRequired,\n};\n\nCard.defaultProps = {\n  character: {},\n};\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './EditCard.scss';\n\nexport const EditCard = ({ character, handleOpenEdit, handleSubmit }) => {\n  const [editingCharacter, setEditingCharacter] = useState(character);\n\n  const onChange = useCallback(\n    (event) => {\n      const { name, value } = event.target;\n\n      setEditingCharacter(prevState => ({\n        ...prevState,\n        [name]: value\n      }))\n    }, []\n  )\n\n  return (\n    <form\n      className=\"edit-form\"\n      onSubmit={(event) => handleSubmit(event, character.id, editingCharacter, handleOpenEdit)}\n    >\n      <span\n        className=\"edit-form__close\"\n        onClick={() => handleOpenEdit()}\n      >\n        &#10008;\n      </span>\n      <label htmlFor=\"name\">Name</label>\n      <input\n        className=\"edit-form__input\"\n        name=\"name\"\n        id=\"name\"\n        type=\"text\"\n        value={editingCharacter.name}\n        onChange={event => onChange(event)}\n      />\n      <label htmlFor=\"status\">Status</label>\n      <input\n        className=\"edit-form__input\"\n        name=\"status\"\n        id=\"status\"\n        type=\"text\"\n        value={editingCharacter.status}\n        onChange={event => onChange(event)}\n      />\n      <label htmlFor=\"species\">Species</label>\n      <input\n        className=\"edit-form__input\"\n        name=\"species\"\n        id=\"species\"\n        type=\"text\"\n        value={editingCharacter.species}\n        onChange={event => onChange(event)}\n      />\n      <label htmlFor=\"gender\">Gender</label>\n      <input\n        className=\"edit-form__input\"\n        name=\"gender\"\n        id=\"gender\"\n        type=\"text\"\n        value={editingCharacter.gender}\n        onChange={event => onChange(event)}\n      />\n      <label htmlFor=\"location\">Location</label>\n      <input\n        className=\"edit-form__input\"\n        name=\"location\"\n        id=\"location\"\n        type=\"text\"\n        value={editingCharacter.location.name}\n        onChange={event => onChange(event)}\n      />\n      <button className=\"edit-form__button\" type=\"submit\">Edit</button>\n    </form>\n  );\n};\n\nEditCard.propTypes = {\n  character: PropTypes.shape({\n    id: PropTypes.number,\n  }).isRequired,\n  handleOpenEdit: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n}\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './CardDescription.scss';\nimport { Link } from 'react-router-dom';\nimport { EditCard } from '../EditCard/EditCard';\n\nexport const CardDescription = ({ selectedCard, onSubmit, onDelete }) => {\n  const [isOpenEdit, setIsOpenEdit] = useState(false);\n  const [editedCharacter, setEditedCharacter] = useState(selectedCard);\n\n  const handleSubmit = useCallback(\n    (event, id, newCharacter, close) => {\n      event.preventDefault();\n      setEditedCharacter(newCharacter);\n      onSubmit(event, id, newCharacter, close)\n    }, [],\n  ) \n\n  const handleOpenEdit = useCallback(\n    () => {\n      setIsOpenEdit(prevState => !prevState)\n    }, []\n  )\n\n  return (\n    <div className=\"selected-card-description\">\n      <div className=\"selected-card\">\n        <img\n          className=\"selected-card__img\"\n          src={editedCharacter.image}\n          alt={editedCharacter.name}\n        />\n        <p className=\"selected-card__name\">\n          <span className=\"selected-card__text--left\">Name: </span>\n          <span className=\"selected-card__text--right\">{editedCharacter.name}</span>\n        </p>\n        <p className=\"selected-card__name\">\n          <span className=\"selected-card__text--left\">Status: </span>\n          <span className=\"selected-card__text--right\">{editedCharacter.status}</span>\n        </p>\n        <p className=\"selected-card__name\">\n          <span className=\"selected-card__text--left\">Species: </span>\n          <span className=\"selected-card__text--right\">{editedCharacter.species}</span>\n        </p>\n        <p className=\"selected-card__name\">\n          <span className=\"selected-card__text--left\">Gender: </span>\n          <span className=\"selected-card__text--right\">{editedCharacter.gender}</span>\n        </p>\n        {editedCharacter.location && (\n          <p className=\"selected-card__name\">\n            <span className=\"selected-card__text--left\">Location: </span>\n            <span className=\"selected-card__text--right\">{editedCharacter.location.name}</span>\n          </p>\n        )}\n        <button\n          className=\"selected-card__button\"\n          onClick={() => handleOpenEdit()}\n        >\n          Edit\n        </button>\n        <Link to=\"/\">\n          <button\n            onClick={() => onDelete(editedCharacter.id)} className=\"selected-card__button\"\n          >\n            Delete\n          </button>\n        </Link>\n      </div>\n      <Link to=\"/\">\n        <button className=\"home\">Home</button>\n      </Link>\n      {isOpenEdit && (\n        <EditCard\n          character={editedCharacter}\n          handleOpenEdit={handleOpenEdit}\n          handleSubmit={handleSubmit}\n        />\n      )}\n    </div>\n  );\n};\n\nCardDescription.propTypes = {\n  selectedCard: PropTypes.shape({\n    name: PropTypes.string,\n    status: PropTypes.string,\n    image: PropTypes.string,\n    species: PropTypes.string,\n    gender: PropTypes.string,\n    id: PropTypes.number,\n    location: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n  }),\n  onSubmit: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n};\n\nCardDescription.defaultProps = {\n  selectedCard: {},\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card } from '../Card';\nimport './CardList.scss';\nimport { CardDescription } from '../CardDescription';\nimport { Route } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nexport const CardList = ({ characters, onSubmit, onDelete }) => {\n  const [selectedCardId, setSelectedCardId] = useState(0);\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const handleSelect = useCallback(\n    (id) => {\n      setSelectedCardId(id);\n      setSelectedCard(characters.find((character) => character.id === setSelectedCardId));\n    }, [selectedCardId],\n  );\n\n  useEffect(() => {\n      setSelectedCard(characters.find(character => character.id === selectedCardId));\n  }, [selectedCardId]);\n\n  return (\n    <>\n      <Route path=\"/\" exact>\n        <div className=\"card-list\">\n          {characters.map((character) => (\n            <Link key={character.id * new Date()} to={`/${character.name}`} >\n              <Card\n                key={character.id}\n                character={character}\n                handleSelect={handleSelect}\n              />\n            </Link>\n          ))}\n        </div>\n      </Route>\n      {selectedCard ? (\n        <Route path={`/${selectedCard.name}`}>\n          <CardDescription\n            selectedCard={selectedCard}\n            onSubmit={onSubmit}\n            onDelete={onDelete}\n          />\n        </Route>\n      ) : ''}\n    </>\n  );\n};\n\nCardList.propTypes = {\n  characters: PropTypes.arrayOf(\n    PropTypes.shape({\n    }),\n  ).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport './App.scss';\nimport { getHaracters } from './api';\nimport { CardList } from './components/CardList';\n\nfunction App() {\n  const [characters, setCharacters] = useState([]);\n  \n  useEffect(() => {\n    getHaracters()\n      .then(setCharacters);\n  }, []);\n\n  const onSubmit = useCallback(\n    (event, id, newCharacter, close) => {\n      event.preventDefault();\n\n      const newCharacters = [...characters].filter(character => character.id !== id);\n\n      setCharacters([\n        ...newCharacters,\n        newCharacter\n      ]);\n      close();\n    }, [characters],\n  )\n\n  const onDelete = useCallback(\n    (id) => {\n      setCharacters(prevState => \n        prevState.filter(state => state.id !== id)\n      )\n    }, [characters]\n  )\n  \n\n  console.log(characters);\n  return (\n    <div className=\"App\">\n      <CardList\n        characters={characters}\n        onSubmit={onSubmit}\n        onDelete={onDelete}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","const BASE_URL = 'https://rickandmortyapi.com/api';\n\nexport const getHaracters = () => (\n  fetch(`${BASE_URL}/character`)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error('can\\'t upload your data');\n      }\n\n      return response.json();\n    })\n    .then((response) => response.results)\n);\n\n// export const getPerson = (id) => (\n//   fetch(`${BASE_URL}/character/${id}`)\n//     .then((response) => {\n//       if (!response) {\n//         throw new Error('wrong id of person');\n//       }\n\n//       return response.json();\n//     })\n// );\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <HashRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}